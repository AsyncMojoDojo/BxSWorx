using System;
//.........................................................
using BxS_SAPNCO.Destination;
using BxS_SAPNCO.API.Function;
using BxS_SAPNCO.API.SAPFunctions.BDC;
//•••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••
namespace BxS_SAPNCO.API
{
	public partial class NCOController
		{
			#region "Methods: Internal: BDC Processing"

				//¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨
				internal IBDCTranData	CreateBDCTranData(Guid ID)
					{
						return	new BDCTranData(ID)	{	CTUOptions = new DTO_CTUOptions()	};
					}

				//¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨
				internal IBDCProfile	GetAddBDCTranProcessorProfile(DestinationRfc destination)
					{
						IBDCProfile	lo_Profile	= null;
						var					lo_SAPConst	= new SAPFncConstants();
						//.............................................
						destination.TryGetProfile(lo_SAPConst.BDCCallTransaction, out object lo_ProfileObj);

						if (lo_ProfileObj == null)
							{
								lo_Profile	= new BDCFncProfile( destination, lo_SAPConst.BDCCallTransaction );
								destination.RegisterProfile(lo_Profile);
								destination.TryGetProfile(lo_SAPConst.BDCCallTransaction, out lo_ProfileObj);
							}
						//.............................................
						return	lo_Profile;
					}

				//¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨
				internal DTO_RFCData	CreateRFCTranData(	IBDCProfile	profile	,	Guid ID	= default(Guid)	)
					{
						return	new DTO_RFCData(ID)	{	CTUOpts	= profile.CTUStr	,
																					BDCData = profile.BDCTbl	,
																					SPAData = profile.SPATbl	,
																					MSGData = profile.MSGTbl		};
					}

				//¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨
				internal BDC2RfcParser	CreateBDC2RfcParser(IBDCProfile	profile)
					{
						return	new BDC2RfcParser(profile);
					}

				//¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨
				internal IBDCTranProcessor	CreateBDCTransactionProcessor(IBDCProfile profile)
					{
						return	new BDCTranProcessor( new RFCFunction()	, profile);
					}

				//¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨
				internal BDCProfileConfigurator	CreateProfileConfigurator()
					{
						return	new BDCProfileConfigurator();
					}

				//¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨¨
				internal CTU_Parameters	CreateCTUParameters()
					{
						return	new CTU_Parameters();
					}

			#endregion

		}
}
